# 只为记账 - 线框图与组件结构

本文档提供关键页面的线框图、组件结构图和交互流程图，帮助开发团队理解页面布局和组件关系。

## 1. 仪表盘页面

### 线框图

```
┌─────────────────────────────┐
│ ┌─────────────────────────┐ │
│ │      顶部导航栏         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │                         │ │
│ │      本月概览卡片       │ │
│ │  收入 | 支出 | 结余     │ │
│ │                         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    预算执行情况         │ │
│ │ ┌───────────────────┐   │ │
│ │ │ 餐饮 [=====  ]    │   │ │
│ │ ├───────────────────┤   │ │
│ │ │ 购物 [========]   │   │ │
│ │ ├───────────────────┤   │ │
│ │ │ 交通 [===    ]    │   │ │
│ │ └───────────────────┘   │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    最近交易             │ │
│ │ ┌───────────────────┐   │ │
│ │ │ 今天               │   │ │
│ │ │ ├─午餐  -¥45      │   │ │
│ │ │ └─超市  -¥128     │   │ │
│ │ ├───────────────────┤   │ │
│ │ │ 昨天               │   │ │
│ │ │ ├─工资  +¥8,500   │   │ │
│ │ │ └─公交  -¥4       │   │ │
│ │ └───────────────────┘   │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │      底部导航栏         │ │
│ │ 首页|统计|添加|预算|我的 │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

### 组件结构图

```
DashboardPage
├── DashboardLayout
│   ├── TopBar
│   │   ├── PageTitle
│   │   └── ActionButtons
│   └── BottomNavigation
├── BalanceCard
│   ├── BalanceHeader
│   └── BalanceDetails
├── BudgetProgressList
│   ├── SectionHeader
│   └── BudgetCard (多个)
│       ├── BudgetInfo
│       └── ProgressBar
└── TransactionList
    ├── SectionHeader
    └── TransactionGroup (多个)
        ├── TransactionDate
        └── TransactionItem (多个)
            ├── TransactionIcon
            ├── TransactionDetails
            └── TransactionAmount
```

## 2. 添加交易页面

### 线框图

```
┌─────────────────────────────┐
│ ┌─────────────────────────┐ │
│ │      顶部导航栏         │ │
│ │  ← | 添加交易 |         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    交易类型切换         │ │
│ │  [支出]    [收入]       │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    金额输入             │ │
│ │       ¥ 128.50          │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    步骤指示器           │ │
│ │  [1.选择分类] [2.填写详情] │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    分类选择 (步骤1)     │ │
│ │  ┌───┐ ┌───┐ ┌───┐ ┌───┐ │ │
│ │  │餐饮│ │购物│ │交通│ │住房│ │ │
│ │  └───┘ └───┘ └───┘ └───┘ │ │
│ │  ┌───┐ ┌───┐ ┌───┐ ┌───┐ │ │
│ │  │服饰│ │娱乐│ │医疗│ │教育│ │ │
│ │  └───┘ └───┘ └───┘ └───┘ │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    交易详情 (步骤2)     │ │
│ │  描述: [超市购物      ] │ │
│ │  日期: [2023-05-15    ] │ │
│ │  时间: [14:30         ] │ │
│ │  账本: [个人账本 ▼    ] │ │
│ │  成员: [自己 ▼        ] │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │      底部按钮           │ │
│ │  [上一步]    [保存]     │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

### 组件结构图

```
AddTransactionPage
├── TransactionLayout
│   └── TopBar
├── TransactionTypeToggle
├── AmountInput
├── StepIndicator
├── StepContent
│   ├── CategoryStep (步骤1)
│   │   ├── StepTitle
│   │   └── CategoryGrid
│   │       └── CategoryItem (多个)
│   └── DetailsStep (步骤2)
│       ├── SelectedCategory
│       └── TransactionForm
│           ├── FormGroup (多个)
│           │   ├── FormLabel
│           │   └── FormInput
│           └── DateTimePickers
└── BottomButtonContainer
    ├── NextButton (步骤1)
    └── StepTwoButtons (步骤2)
        ├── BackButton
        └── SaveButton
```

## 3. 预算管理页面

### 线框图

```
┌─────────────────────────────┐
│ ┌─────────────────────────┐ │
│ │      顶部导航栏         │ │
│ │      预算管理           │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    预算周期选择         │ │
│ │  [< 2023年5月 >]        │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    总体预算             │ │
│ │  总预算: ¥5,000         │ │
│ │  已使用: ¥3,200 (64%)   │ │
│ │  [===========    ]      │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    分类预算             │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 餐饮              │  │ │
│ │  │ ¥1,200/¥2,000     │  │ │
│ │  │ [=======   ]      │  │ │
│ │  └───────────────────┘  │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 购物              │  │ │
│ │  │ ¥1,800/¥1,500     │  │ │
│ │  │ [===========]     │  │ │
│ │  └───────────────────┘  │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 交通              │  │ │
│ │  │ ¥320/¥800         │  │ │
│ │  │ [====      ]      │  │ │
│ │  └───────────────────┘  │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    添加预算按钮         │ │
│ │        [+]              │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │      底部导航栏         │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

### 组件结构图

```
BudgetPage
├── BudgetLayout
│   ├── TopBar
│   └── BottomNavigation
├── BudgetPeriodSelector
├── TotalBudgetCard
│   ├── BudgetSummary
│   └── BudgetProgressBar
├── CategoryBudgetList
│   └── CategoryBudgetCard (多个)
│       ├── CategoryHeader
│       │   ├── CategoryIcon
│       │   └── CategoryName
│       ├── BudgetAmount
│       └── BudgetProgressBar
└── AddBudgetButton
```

## 4. 统计分析页面

### 线框图

```
┌─────────────────────────────┐
│ ┌─────────────────────────┐ │
│ │      顶部导航栏         │ │
│ │        统计分析         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    时间范围选择         │ │
│ │  [< 2023年5月 >]        │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    收支概览             │ │
│ │                         │ │
│ │  收入: ¥8,500           │ │
│ │  支出: ¥5,320           │ │
│ │  结余: ¥3,180           │ │
│ │                         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    支出分类占比         │ │
│ │                         │ │
│ │       [饼图]            │ │
│ │                         │ │
│ │  餐饮: 35%              │ │
│ │  购物: 25%              │ │
│ │  交通: 15%              │ │
│ │  其他: 25%              │ │
│ │                         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    收支趋势             │ │
│ │                         │ │
│ │      [折线图]           │ │
│ │                         │ │
│ │  1  5  10  15  20  25  30│ │
│ │                         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    详细分析入口         │ │
│ │  [分类] [预算] [趋势]   │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │      底部导航栏         │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

### 组件结构图

```
StatisticsPage
├── StatisticsLayout
│   ├── TopBar
│   └── BottomNavigation
├── DateRangePicker
├── StatsSummaryCard
│   ├── StatItem (收入)
│   ├── StatItem (支出)
│   └── StatItem (结余)
├── CategoryPieChart
│   ├── PieChart
│   └── ChartLegend
├── TrendLineChart
│   ├── LineChart
│   └── ChartControls
└── StatsNavigation
    ├── NavButton (分类)
    ├── NavButton (预算)
    └── NavButton (趋势)
```

## 5. 账本管理页面

### 线框图

```
┌─────────────────────────────┐
│ ┌─────────────────────────┐ │
│ │      顶部导航栏         │ │
│ │       账本管理          │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    个人账本             │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 日常账本 (默认)   │  │ │
│ │  │ 交易: 152 笔      │  │ │
│ │  │ 创建于: 2023-01-15│  │ │
│ │  └───────────────────┘  │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 旅行账本          │  │ │
│ │  │ 交易: 36 笔       │  │ │
│ │  │ 创建于: 2023-03-20│  │ │
│ │  └───────────────────┘  │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    家庭账本             │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 家庭共享账本      │  │ │
│ │  │ 成员: 3 人        │  │ │
│ │  │ 创建于: 2023-02-10│  │ │
│ │  └───────────────────┘  │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    添加账本按钮         │ │
│ │        [+]              │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │      底部导航栏         │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

### 组件结构图

```
AccountBookPage
├── AccountBookLayout
│   ├── TopBar
│   └── BottomNavigation
├── PersonalBookSection
│   ├── SectionHeader
│   └── BookList
│       └── BookCard (多个)
│           ├── BookHeader
│           │   ├── BookTitle
│           │   └── DefaultBadge (条件性)
│           └── BookMeta
├── FamilyBookSection
│   ├── SectionHeader
│   └── BookList
│       └── BookCard (多个)
│           ├── BookHeader
│           └── MemberCount
└── AddBookButton
```

## 6. 主题设置页面

### 线框图

```
┌─────────────────────────────┐
│ ┌─────────────────────────┐ │
│ │      顶部导航栏         │ │
│ │      主题设置           │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    内置主题             │ │
│ │                         │ │
│ │  ┌───┐ ┌───┐ ┌───┐ ┌───┐ │ │
│ │  │默认│ │暗色│ │蓝色│ │绿色│ │ │
│ │  └───┘ └───┘ └───┘ └───┘ │ │
│ │  ┌───┐                   │ │
│ │  │紫色│                   │ │
│ │  └───┘                   │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    主题预览             │ │
│ │  ┌───────────────────┐  │ │
│ │  │                   │  │ │
│ │  │    预览卡片       │  │ │
│ │  │                   │  │ │
│ │  │  [按钮] [输入框]  │  │ │
│ │  │                   │  │ │
│ │  └───────────────────┘  │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    自定义主题           │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 我的主题1         │  │ │
│ │  │ [编辑] [删除]     │  │ │
│ │  └───────────────────┘  │ │
│ │                         │ │
│ │  ┌───────────────────┐  │ │
│ │  │ 我的主题2         │  │ │
│ │  │ [编辑] [删除]     │  │ │
│ │  └───────────────────┘  │ │
│ │                         │ │
│ │  [+ 创建新主题]         │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │    导入/导出            │ │
│ │  [导入主题] [导出主题]  │ │
│ └─────────────────────────┘ │
│                             │
│ ┌─────────────────────────┐ │
│ │      底部导航栏         │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

### 组件结构图

```
ThemeSettingsPage
├── SettingsLayout
│   ├── TopBar
│   └── BottomNavigation
├── BuiltinThemeSection
│   ├── SectionTitle
│   └── ThemeGrid
│       └── ThemeButton (多个)
├── ThemePreviewSection
│   ├── SectionTitle
│   └── PreviewCard
│       ├── PreviewHeader
│       ├── PreviewContent
│       └── PreviewControls
├── CustomThemeSection
│   ├── SectionTitle
│   ├── CustomThemeList
│   │   └── CustomThemeItem (多个)
│   │       ├── ThemeName
│   │       └── ActionButtons
│   └── CreateThemeButton
└── ImportExportSection
    ├── SectionTitle
    ├── ImportButton
    └── ExportButton
```

## 7. 交互流程图

### 添加交易流程

```
┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐
│  开始   │     │ 选择类型│     │ 输入金额│     │ 选择分类│
│         │────>│ 收入/支出│────>│         │────>│         │
└─────────┘     └─────────┘     └─────────┘     └─────────┘
                                                      │
                                                      v
┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐
│  完成   │     │ 保存交易│     │ 确认表单│     │ 填写详情│
│         │<────│         │<────│         │<────│         │
└─────────┘     └─────────┘     └─────────┘     └─────────┘
```

### 预算创建流程

```
┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐
│  开始   │     │ 选择周期│     │ 设置金额│     │ 选择分类│
│         │────>│         │────>│         │────>│         │
└─────────┘     └─────────┘     └─────────┘     └─────────┘
                                                      │
                                                      v
┌─────────┐     ┌─────────┐     ┌─────────┐
│  完成   │     │ 保存预算│     │ 设置选项│
│         │<────│         │<────│         │
└─────────┘     └─────────┘     └─────────┘
```

### 认证流程

```
┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐
│  开始   │     │ 输入凭据│     │ 验证凭据│     │ 登录成功│
│         │────>│         │────>│         │────>│         │
└─────────┘     └─────────┘     └─────────┘     └─────────┘
                     │                │               │
                     v                v               v
                ┌─────────┐     ┌─────────┐     ┌─────────┐
                │ 注册账号│     │ 登录失败│     │ 进入应用│
                │         │     │ 显示错误│     │         │
                └─────────┘     └─────────┘     └─────────┘
```

### 主题切换流程

```
┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐
│  开始   │     │ 进入主题│     │ 选择主题│     │ 应用主题│
│         │────>│ 设置页面│────>│         │────>│         │
└─────────┘     └─────────┘     └─────────┘     └─────────┘
                                      │               │
                                      v               v
                                 ┌─────────┐     ┌─────────┐
                                 │ 自定义  │     │ 保存主题│
                                 │ 主题    │────>│ 偏好    │
                                 └─────────┘     └─────────┘
                                      │
                                      v
                                 ┌─────────┐     ┌─────────┐
                                 │ 编辑主题│     │ 导入/导出│
                                 │ 颜色    │────>│ 主题配置 │
                                 └─────────┘     └─────────┘
```
