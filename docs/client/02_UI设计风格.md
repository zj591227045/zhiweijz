# 只为记账 - UI设计风格 (优化版)

## 1. 设计原则

"只为记账"应用的UI设计遵循以下核心原则:

1. **简洁直观**: 界面简洁明了，减少视觉干扰，让用户专注于记账和财务管理
2. **移动优先**: 优先考虑移动设备的用户体验，确保在小屏幕上操作流畅
3. **一致性**: 保持视觉元素和交互模式的一致性，降低学习成本
4. **即时反馈**: 为用户操作提供清晰的反馈，增强用户信心
5. **无障碍**: 确保应用可被各种用户使用，包括视力障碍用户

## 2. 简化主题系统

"只为记账"应用采用简化的主题系统，提供基本的主题切换功能，同时保持高度的可定制性。

### 2.1 主题架构

主题系统基于CSS变量和Tailwind CSS构建:

- **基础变量**: 所有主题共享的基础CSS变量
- **主题模式**: 支持亮色和暗色两种基本模式
- **主题颜色**: 支持多种主题色彩
- **主题切换**: 通过切换CSS变量实现无刷新主题切换
- **主题存储**: 用户主题偏好保存在本地存储中

### 2.2 内置主题

应用提供以下内置主题组合:

1. **模式**:
   - 亮色模式 (Light)
   - 暗色模式 (Dark)

2. **主题色**:
   - 蓝色 (Blue)
   - 绿色 (Green)
   - 紫色 (Purple)
   - 橙色 (Orange)
   - 红色 (Red)

### 2.3 默认主题配色方案

以下是默认主题(亮色模式+蓝色)的配色方案:

#### 2.3.1 主色调

- **主色 (Primary)**: `#3B82F6` - 蓝色，用于主要按钮、强调元素和品牌标识
- **主色前景 (Primary Foreground)**: `#FFFFFF` - 白色，用于主色背景上的文本

#### 2.3.2 功能色

- **成功 (Success)**: `#22C55E` - 绿色，表示操作成功、收入等积极状态
- **警告 (Warning)**: `#F59E0B` - 橙色，表示警告、预算接近上限等状态
- **错误 (Error)**: `#EF4444` - 红色，表示错误、支出等负面状态
- **信息 (Info)**: `#3B82F6` - 蓝色，表示提示信息

#### 2.3.3 中性色

- **背景 (Background)**: `#F9FAFB` - 浅灰色，页面背景
- **前景 (Foreground)**: `#1F2937` - 深灰色，主要文本
- **卡片背景 (Card)**: `#FFFFFF` - 白色，卡片和面板背景
- **卡片前景 (Card Foreground)**: `#1F2937` - 深灰色，卡片上的文本
- **边框 (Border)**: `#E5E7EB` - 浅灰色，分隔线和边框

### 2.4 主题变量结构

简化的主题变量结构:

```css
:root {
  /* 主色调 */
  --primary: 59 130 246;     /* RGB值，用于Tailwind的opacity修饰符 */
  --primary-foreground: 255 255 255;

  /* 功能色 */
  --success: 34 197 94;
  --success-foreground: 255 255 255;
  --warning: 245 158 11;
  --warning-foreground: 255 255 255;
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;

  /* 中性色 */
  --background: 249 250 251;
  --foreground: 31 41 55;
  --card: 255 255 255;
  --card-foreground: 31 41 55;
  --muted: 243 244 246;
  --muted-foreground: 107 114 128;
  --border: 229 231 235;
  --input: 229 231 235;

  /* 交互状态 */
  --ring: 59 130 246;
  --accent: 243 244 246;
  --accent-foreground: 31 41 55;
  --popover: 255 255 255;
  --popover-foreground: 31 41 55;

  /* 其他 */
  --radius: 0.5rem;
}

.dark {
  --background: 17 24 39;
  --foreground: 243 244 246;
  --card: 31 41 55;
  --card-foreground: 243 244 246;
  --muted: 38 38 38;
  --muted-foreground: 163 163 163;
  --border: 38 38 38;
  --input: 38 38 38;
  --accent: 38 38 38;
  --accent-foreground: 243 244 246;
  --popover: 31 41 55;
  --popover-foreground: 243 244 246;
}
```

### 2.5 主题切换

简化的主题切换实现:

```typescript
// /src/components/theme-switcher.tsx
'use client';

import { useTheme } from 'next-themes';
import { Moon, Sun } from 'lucide-react';
import { Button } from '@/components/ui/button';

export function ThemeSwitcher() {
  const { theme, setTheme } = useTheme();

  return (
    <Button
      variant="ghost"
      size="icon"
      onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
    >
      {theme === 'dark' ? (
        <Sun className="h-5 w-5" />
      ) : (
        <Moon className="h-5 w-5" />
      )}
      <span className="sr-only">切换主题</span>
    </Button>
  );
}
```

## 3. 字体系统

### 3.1 字体家族

- **主字体**: 系统默认字体，确保在各平台上的最佳显示效果
  ```css
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  ```

### 3.2 字体大小

使用相对单位，便于响应式设计:

- **超大标题 (2xl)**: `1.5rem` (24px) - 页面主标题
- **大标题 (xl)**: `1.25rem` (20px) - 区块标题
- **中标题 (lg)**: `1.125rem` (18px) - 卡片标题
- **小标题 (md)**: `1rem` (16px) - 次要标题
- **正文 (base)**: `0.875rem` (14px) - 主要内容
- **小字 (sm)**: `0.75rem` (12px) - 辅助信息

### 3.3 字重

- **常规 (Regular)**: `400` - 正文文本
- **中等 (Medium)**: `500` - 次要标题
- **半粗 (Semibold)**: `600` - 主要标题和强调文本
- **粗体 (Bold)**: `700` - 特别强调

### 3.4 行高

- **紧凑 (Tight)**: `1.25` - 标题
- **正常 (Normal)**: `1.5` - 正文
- **宽松 (Loose)**: `1.75` - 长文本段落

## 4. 设计系统

### 4.1 间距系统

使用Tailwind CSS的间距系统:

- **px**: `1px` - 边框
- **0.5**: `0.125rem` (2px) - 最小间距
- **1**: `0.25rem` (4px) - 极小间距
- **2**: `0.5rem` (8px) - 小间距
- **3**: `0.75rem` (12px) - 中小间距
- **4**: `1rem` (16px) - 中等间距
- **6**: `1.5rem` (24px) - 中大间距
- **8**: `2rem` (32px) - 大间距
- **12**: `3rem` (48px) - 特大间距

### 4.2 圆角

使用Tailwind CSS的圆角系统:

- **none**: `0px` - 无圆角
- **sm**: `0.125rem` (2px) - 小圆角
- **DEFAULT**: `0.25rem` (4px) - 默认圆角
- **md**: `0.375rem` (6px) - 中等圆角
- **lg**: `0.5rem` (8px) - 大圆角
- **xl**: `0.75rem` (12px) - 特大圆角
- **2xl**: `1rem` (16px) - 超大圆角
- **full**: `9999px` - 完全圆形

### 4.3 阴影

使用Tailwind CSS的阴影系统:

- **sm**: `0 1px 2px 0 rgb(0 0 0 / 0.05)` - 轻微阴影
- **DEFAULT**: `0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)` - 默认阴影
- **md**: `0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)` - 中等阴影
- **lg**: `0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)` - 大阴影
- **xl**: `0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)` - 特大阴影

### 4.4 基础组件规范

#### 按钮

使用shadcn/ui的按钮变体:

- **主要按钮 (primary)**: 主色背景，白色文本，`0.5rem`圆角
- **次要按钮 (secondary)**: 灰色背景，深色文本，`0.5rem`圆角
- **轮廓按钮 (outline)**: 透明背景，带边框，`0.5rem`圆角
- **幽灵按钮 (ghost)**: 无背景无边框，悬停时有背景色
- **链接按钮 (link)**: 无背景无边框，带下划线
- **危险按钮 (destructive)**: 红色背景，白色文本，`0.5rem`圆角

#### 输入框

使用shadcn/ui的输入组件:

- **标准输入框**: 白色背景，`1px`灰色边框，`0.5rem`圆角，适当内边距
- **聚焦状态**: 主色边框，轻微阴影
- **错误状态**: 红色边框，错误提示文本
- **禁用状态**: 浅灰色背景，不可交互

#### 卡片

使用shadcn/ui的卡片组件:

- **标准卡片**: 白色背景，`0.5rem`圆角，可选阴影
- **卡片头部**: 用于标题和操作按钮
- **卡片内容**: 主要内容区域
- **卡片底部**: 用于操作按钮或额外信息

#### 图标

使用lucide-react图标库:

- **导航图标**: `24px`大小，线条风格
- **功能图标**: `20px`大小，线条风格
- **指示图标**: `16px`大小，线条风格

### 4.5 交互设计原则

- **即时反馈**: 用户操作后立即提供视觉反馈
- **简单过渡**: 使用简单的过渡效果，避免过度动画
- **一致性**: 在整个应用中保持一致的交互模式
- **可预测性**: 交互结果应该符合用户预期

#### 常用交互模式

- **按钮反馈**: 颜色变化和轻微阴影变化
- **表单提交**: 显示加载状态和成功/错误反馈
- **列表操作**: 项目添加/删除时的简单动画
- **加载状态**: 使用骨架屏或简单的加载指示器

## 5. 响应式设计原则

- **移动优先**: 先设计移动端界面，再扩展到大屏幕
- **断点设计**: 使用Tailwind CSS的断点系统
  - `sm`: `640px` - 小屏幕设备
  - `md`: `768px` - 中等屏幕设备
  - `lg`: `1024px` - 大屏幕设备
  - `xl`: `1280px` - 超大屏幕设备
- **布局适应**:
  - 移动端: 单列布局，底部导航
  - 平板/桌面: 侧边导航 + 主内容区
- **触控友好**: 确保触控目标足够大(至少`44px`)
