# 预算列表页面开发提示词

我需要开发当前项目的"预算列表"页面，使用Next.js 14框架和现代React技术栈实现。

## 技术栈要求

- 核心框架: Next.js 14 (App Router)
- 状态管理: Zustand
- UI组件: shadcn/ui + Tailwind CSS
- 表单处理: React Hook Form + Zod验证
- HTTP请求: Axios + React Query
- 工具库:
  - dayjs (日期处理)
  - lucide-react (图标)
  - clsx/tailwind-merge (类名合并)

## 页面功能说明

这是一个移动端预算管理页面，具有以下核心功能：

1. 预算周期选择（当月、上月、自定义）
2. 总体预算进度展示
3. 分类预算卡片列表
4. 添加新预算功能
5. 预算超支警告

## UI设计详细说明

页面包含以下UI元素：

### 顶部导航栏：
- 返回按钮
- 居中标题"预算管理"
- 周期选择下拉菜单

### 总体预算概览：
- 总预算金额
- 已使用金额和百分比
- 剩余金额和天数
- 环形进度条显示整体使用情况

### 分类预算列表：
- 每个预算卡片显示：
  - 分类图标和名称
  - 预算金额
  - 已使用金额和百分比
  - 进度条（颜色根据使用情况变化）
  - 超支警告（如适用）
- 卡片点击进入详情页

### 添加预算按钮：
- 固定在底部或右下角
- 点击跳转到添加预算页面

## 交互逻辑

实现以下交互功能：

1. 周期选择：
   - 点击周期选择器显示选项（当月、上月、自定义）
   - 选择自定义时显示日期范围选择器
   - 切换周期后刷新预算数据

2. 预算卡片交互：
   - 点击预算卡片进入预算详情页
   - 长按显示快捷操作菜单（编辑、删除）
   - 超支预算显示警告效果

3. 添加预算：
   - 点击添加按钮跳转到添加预算页面
   - 如果所有分类都已有预算，显示提示

4. 下拉刷新：
   - 支持下拉刷新获取最新预算数据

## 状态管理

使用Zustand创建一个预算管理状态仓库，包含以下状态：

- 当前选中的预算周期
- 总体预算数据
- 分类预算列表
- 加载状态（初始加载、刷新）
- 操作状态（删除中）

## 数据模型和API集成

获取预算列表的API端点为GET /api/budgets，支持查询参数：

```
{
  "startDate": "2023-05-01",
  "endDate": "2023-05-31"
}
```

响应数据结构：

```json
{
  "totalBudget": {
    "amount": 5000,
    "spent": 2500,
    "remaining": 2500,
    "percentage": 50,
    "daysRemaining": 15
  },
  "budgets": [
    {
      "id": "uuid",
      "categoryId": "category_uuid",
      "categoryName": "餐饮",
      "categoryIcon": "utensils",
      "amount": 1000,
      "spent": 650,
      "remaining": 350,
      "percentage": 65,
      "isOverspent": false
    }
  ]
}
```

删除预算的API端点为DELETE /api/budgets/:id

使用React Query处理API请求，包括：
- 使用useQuery获取预算列表
- 使用useMutation处理删除操作

## 组件结构

设计以下组件结构：

- `BudgetListPage` - 主页面容器
- `BudgetPeriodSelector` - 周期选择器组件
- `TotalBudgetProgress` - 总预算进度组件
  - `CircularProgress` - 环形进度条组件
  - `BudgetSummary` - 预算摘要组件
- `CategoryBudgetList` - 分类预算列表
  - `BudgetCard` - 预算卡片组件
  - `BudgetProgressBar` - 预算进度条组件
  - `OverspentWarning` - 超支警告组件
- `AddBudgetButton` - 添加预算按钮
- `DeleteConfirmDialog` - 删除确认对话框

## 响应式设计

实现移动优先的响应式设计：

- 移动端：
  - 单列预算卡片
  - 紧凑的总预算显示
- 平板/桌面端：
  - 双列或三列预算卡片
  - 更详细的总预算信息
  - 侧边栏周期选择

## 无障碍性

确保页面符合基本无障碍性要求：

- 所有交互元素有合适的aria标签
- 进度条有文本替代说明
- 颜色对比度符合WCAG标准
- 支持键盘导航

## 其他技术要求

- 使用Tailwind CSS实现所有样式
- 使用dayjs处理日期和周期计算
- 预算进度条颜色逻辑：
  - <50%: 绿色
  - 50-80%: 黄色
  - 80-100%: 橙色
  - >100%: 红色
- 预算数据的本地缓存
- 优化加载体验（骨架屏）

## 附加功能(如时间允许)

- 预算使用趋势分析
- 智能预算调整建议
- 预算模板功能
- 预算复制功能（复制上月预算）
- 预算导出/分享功能
