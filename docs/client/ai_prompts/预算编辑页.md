# 预算编辑页

## 页面描述
预算编辑页面用于编辑现有预算的信息，包括基本信息、时间设置、结转设置和分类预算设置。用户可以在此页面修改预算的各项参数，并保存更改。

## 页面结构
1. 顶部导航栏：包含返回按钮、页面标题"编辑预算"和保存按钮
2. 预算类型信息：显示预算类型（个人预算或通用预算）和周期
3. 基本信息：包含预算名称和金额
4. 时间设置：包含开始日期和刷新日期（对于个人预算）或结束日期（对于通用预算）
5. 结转设置：是否启用结转功能
6. 分类预算设置：是否启用分类预算，以及各个分类的预算金额

## 数据模型
预算编辑数据模型包含以下关键字段：
- id: 预算ID
- name: 预算名称
- amount: 预算金额
- period: 预算周期（MONTHLY, YEARLY, UNLIMITED）
- budgetType: 预算类型（PERSONAL, GENERAL）
- startDate: 开始日期
- endDate: 结束日期
- refreshDay: 刷新日期（对于个人预算）
- rollover: 是否启用结转
- enableCategoryBudget: 是否启用分类预算
- categoryBudgets: 分类预算列表，每个分类预算包含：
  - categoryId: 分类ID
  - categoryName: 分类名称
  - amount: 预算金额

## 交互逻辑
1. 点击返回按钮，返回上一页（预算详情页）
2. 点击保存按钮，保存预算信息并返回预算详情页
3. 切换结转开关，启用或禁用结转功能
4. 切换分类预算开关，显示或隐藏分类预算设置
5. 修改分类预算金额，自动更新已分配金额和剩余可分配金额

## 业务规则
1. 个人预算和通用预算的编辑界面略有不同：
   - 个人预算：不能修改预算类型和周期，显示刷新日期设置
   - 通用预算：不能修改预算类型，可以修改周期，显示结束日期设置
2. 预算名称不能为空
3. 预算金额必须大于0
4. 开始日期必须早于结束日期
5. 分类预算总额不能超过预算总额
6. 保存时验证所有输入是否有效

## 页面样式
1. 使用表单布局，清晰展示各个设置项
2. 使用开关控件启用或禁用功能
3. 使用日期选择器选择日期
4. 使用数字输入框输入金额，带有货币符号
5. 分类预算列表使用图标和颜色区分不同分类
6. 响应式设计，适配不同屏幕尺寸

## API接口
1. GET /api/budgets/:id - 获取预算详情
2. PUT /api/budgets/:id - 更新预算信息
3. GET /api/categories - 获取分类列表（用于分类预算设置）

## 注意事项
1. 确保页面加载时显示加载状态
2. 保存前验证所有输入是否有效，显示适当的错误提示
3. 确保金额格式统一，使用千分位分隔符和两位小数
4. 确保日期格式统一，使用本地化日期格式
5. 保存成功后显示成功提示，并返回预算详情页
6. 处理保存失败的情况，显示错误提示并允许用户重试
