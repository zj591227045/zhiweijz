/* Portal下拉菜单全局样式 - 确保在任何情况下都能正确显示 */

/* 时间范围类型选择器Portal下拉菜单 */
.time-range-type-dropdown-portal {
  position: fixed !important;
  z-index: 210 !important; /* 下拉菜单层级 */
  background-color: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 6px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25) !important;
  min-width: 120px !important;
  max-width: 200px !important;
  overflow: visible !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  transform: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  isolation: isolate !important;
}

/* 暗色主题支持 */
[data-theme="dark"] .time-range-type-dropdown-portal,
.dark .time-range-type-dropdown-portal {
  background-color: #1f2937 !important;
  border-color: #374151 !important;
  color: #f9fafb !important;
}

/* 下拉菜单选项列表 */
.time-range-type-dropdown-portal .time-range-type-options {
  list-style: none !important;
  margin: 0 !important;
  padding: 4px 0 !important;
  background: transparent !important;
  border: none !important;
  outline: none !important;
}

/* 下拉菜单选项 */
.time-range-type-dropdown-portal .time-range-type-option {
  display: block !important;
  width: 100% !important;
  padding: 10px 16px !important;
  margin: 0 !important;
  border: none !important;
  background: transparent !important;
  color: #1f2937 !important;
  font-size: 14px !important;
  font-weight: 500 !important;
  line-height: 1.4 !important;
  text-align: left !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  box-sizing: border-box !important;
}

/* 暗色主题下的选项 */
[data-theme="dark"] .time-range-type-dropdown-portal .time-range-type-option,
.dark .time-range-type-dropdown-portal .time-range-type-option {
  color: #f9fafb !important;
}

/* 选项悬停状态 */
.time-range-type-dropdown-portal .time-range-type-option:hover {
  background-color: #f3f4f6 !important;
  color: #1f2937 !important;
}

/* 暗色主题下的悬停状态 */
[data-theme="dark"] .time-range-type-dropdown-portal .time-range-type-option:hover,
.dark .time-range-type-dropdown-portal .time-range-type-option:hover {
  background-color: #374151 !important;
  color: #f9fafb !important;
}

/* 激活状态的选项 */
.time-range-type-dropdown-portal .time-range-type-option.active {
  background-color: #3b82f6 !important;
  color: #ffffff !important;
}

/* 激活状态的选项悬停 */
.time-range-type-dropdown-portal .time-range-type-option.active:hover {
  background-color: #2563eb !important;
  color: #ffffff !important;
}

/* 确保Portal元素不受任何父容器影响 */
body > .time-range-type-dropdown-portal {
  position: fixed !important;
  z-index: 2147483647 !important;
  transform: none !important;
  filter: none !important;
  clip: none !important;
  clip-path: none !important;
  mask: none !important;
  opacity: 1 !important;
  visibility: visible !important;
  overflow: visible !important;
  contain: none !important;
  isolation: isolate !important;
}

/* 防止被任何可能的全局样式覆盖 */
* .time-range-type-dropdown-portal,
*:before .time-range-type-dropdown-portal,
*:after .time-range-type-dropdown-portal {
  position: fixed !important;
  z-index: 2147483647 !important;
}

/* 移动端优化 */
@media (max-width: 768px) {
  .time-range-type-dropdown-portal {
    min-width: 140px !important;
    font-size: 16px !important; /* 防止iOS缩放 */
  }
  
  .time-range-type-dropdown-portal .time-range-type-option {
    padding: 12px 16px !important;
    font-size: 16px !important; /* 防止iOS缩放 */
    min-height: 44px !important; /* iOS推荐的最小触摸目标 */
    display: flex !important;
    align-items: center !important;
  }
}

/* 高对比度模式支持 */
@media (prefers-contrast: high) {
  .time-range-type-dropdown-portal {
    border-width: 2px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5) !important;
  }
  
  .time-range-type-dropdown-portal .time-range-type-option:hover {
    background-color: #000000 !important;
    color: #ffffff !important;
  }
}

/* 减少动画偏好支持 */
@media (prefers-reduced-motion: reduce) {
  .time-range-type-dropdown-portal,
  .time-range-type-dropdown-portal .time-range-type-option {
    transition: none !important;
    animation: none !important;
  }
}

/* 确保在所有可能的容器中都能正确显示 */
.time-range-type-dropdown-portal {
  /* 重置所有可能影响定位的属性 */
  position: fixed !important;
  top: auto !important;
  right: auto !important;
  bottom: auto !important;
  left: auto !important;
  width: auto !important;
  height: auto !important;
  margin: 0 !important;
  padding: 0 !important;
  border-collapse: separate !important;
  border-spacing: 0 !important;
  caption-side: top !important;
  empty-cells: show !important;
  table-layout: auto !important;
  vertical-align: baseline !important;
  text-align: left !important;
  text-decoration: none !important;
  text-indent: 0 !important;
  text-transform: none !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
  white-space: normal !important;
  direction: ltr !important;
  unicode-bidi: normal !important;
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  font-style: normal !important;
  font-variant: normal !important;
  font-stretch: normal !important;
  line-height: normal !important;
  font-family: inherit !important;
  list-style: none !important;
  quotes: none !important;
  counter-reset: none !important;
  counter-increment: none !important;
  resize: none !important;
  cursor: default !important;
  user-select: none !important;
  outline: none !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25) !important;
  background-clip: padding-box !important;
  background-origin: padding-box !important;
  background-attachment: scroll !important;
  background-repeat: no-repeat !important;
  background-position: 0 0 !important;
  background-size: auto !important;
  background-image: none !important;
}
