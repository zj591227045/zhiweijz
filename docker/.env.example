# 只为记账 Docker 基础环境变量配置
# 复制此文件为 .env 并根据需要修改配置
#
# 注意：这是基础配置文件，只包含核心必需的配置项
# 如需启用其他功能，请参考 config/ 目录下的专项配置文件

# ==========================================
# 核心服务配置
# ==========================================

# Nginx 端口配置
NGINX_HTTP_PORT=8080
NGINX_HTTPS_PORT=4343

# PostgreSQL 端口配置
POSTGRES_PORT=5432

# 数据库配置
DB_NAME=zhiweijz
DB_USER=zhiweijz
DB_PASSWORD=zhiweijz123

# JWT 密钥（生产环境请务必修改）
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# 应用环境
NODE_ENV=production

# ==========================================
# 功能开关配置
# ==========================================

# 会员系统配置（自部署版本默认关闭）
ENABLE_MEMBERSHIP_SYSTEM=false
ENABLE_ACCOUNTING_POINTS_SYSTEM=false
MEMBERSHIP_MONTHLY_POINTS=1000
DEFAULT_MEMBER_TYPE=LIFETIME

# ==========================================
# MinIO 对象存储配置
# ==========================================

# MinIO 服务配置
MINIO_ROOT_USER=zhiweijz
MINIO_ROOT_PASSWORD=zhiweijz123456
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001

# 后端连接MinIO配置（默认值）
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY_ID=zhiweijz
S3_SECRET_ACCESS_KEY=zhiweijz123456
S3_REGION=us-east-1
S3_BUCKET_AVATARS=avatars
S3_BUCKET_ATTACHMENTS=transaction-attachments
S3_BUCKET_TEMP=temp-files
S3_BUCKET_SYSTEM=system-files

# 文件存储配置
FILE_STORAGE_TYPE=s3
FILE_STORAGE_BASE_URL=http://localhost:9000
FILE_MAX_SIZE=10485760
FILE_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# ==========================================
# 可选功能配置（留空表示不启用）
# ==========================================
# 如需启用以下功能，请参考对应的配置文件：
# - 微信公众号对接：config/wechat.env.example
# - 邮件服务：config/email.env.example
# - AI服务：config/ai.env.example

# 微信公众号配置（可选）
WECHAT_APP_ID=
WECHAT_APP_SECRET=
WECHAT_TOKEN=
WECHAT_ENCODING_AES_KEY=

# 邮件服务配置（可选）
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

# AI服务配置（可选）
OPENAI_API_KEY=
